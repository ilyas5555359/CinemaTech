<!DOCTYPE html>
<html lang="fr">
<head>
  <!-- encodage UTF-8 pour supporter les caracteres franÃ§ais -->
  <meta charset="UTF-8">
  <!-- titre qui s'affiche dans lâ€™onglet du navigateur -->
  <title>CineTech</title>

  <!-- le lien vers le fichier CSS du projet -->
  <link rel="stylesheet" href="cinetech.css">
  <!-- icones Font Awesome (menu, films, utilisateurs, ...) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- Police Cinzel utilisÃ©e pour le logo CineTech -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- popup global utilisÃ© pour :
     - le message de confirmations (suppression)
     - les messages dâ€™erreur
     - les messages de succÃ¨s -->
<div id="popup" class="popup hidden">
  <div class="popup-box">
    <!-- le message dynamique injectÃ© en JavaScript -->
    <p id="popupMessage"></p>
    <!-- les boutons de confirmation et d'annulation -->
    <div class="popup-actions">
      <button id="popupConfirm">OK</button>
      <button id="popupCancel" class="danger">Annuler</button>
    </div>
  </div>
</div>

<!-- header fixe contient :
     - bouton menu pour sidebar (toggle)
     - logo CineTech -->
<header class="top-header">
  <!-- bouton pour ouvrir et fermer la sidebar -->
  <button id="toggleSidebar"><i class="fas fa-bars"></i></button>
  <!-- le logo du site -->
  <h1 class="site-title">
    <span class="cine">CINE</span><span class="tech">TECH</span>
  </h1>
</header>

<!-- la barre de recherche globale (recherche les films plus les realisateurs en mÃªme temps -->
<div class="global-search">
  <input type="text" id="globalSearch" placeholder="Rechercher films ou rÃ©alisateurs...">
</div>

<!-- sidebar(navigation SPA (sans rechargement)) -->
<aside class="sidebar active">
  <button onclick="showSection('dashboard')"><i class="fas fa-chart-line"></i> Dashboard</button>
  <button onclick="showSection('films')"><i class="fas fa-film"></i> Films</button>
  <button onclick="showSection('directors')"><i class="fas fa-user-tie"></i> RÃ©alisateurs</button>
  <button onclick="showSection('auth')"><i class="fas fa-user"></i> Auth</button>
  <button onclick="toggleTheme()">Mode ğŸŒ™ / â˜€ï¸</button>
</aside>

<!-- main,chaque section est s'affiche et se cache dynamiquement -->
<main>

  <!-- dashboard-->
<section id="dashboard" class="section active">
  <h2>Dashboard</h2>

  <!-- cartes KPI cliquables -->
  <div class="kpi">
    <div class="card clickable" onclick="showSection('films')">
      ğŸ¬ Films <span id="totalFilms">0</span>
    </div>
    <div class="card clickable" onclick="showSection('directors')">
      ğŸ¥ RÃ©alisateurs <span id="totalDirectors">0</span>
    </div>
  </div>

  <!-- graphique Chart.js -->
  <canvas id="filmsChart"></canvas>
</section>

<!-- films -->
<section id="films" class="section">
  <h2>Gestion des Films</h2>

  <!-- outils(recherche, tri) -->
  <div class="tools">
    <input type="text" id="filmSearch" placeholder="Rechercher un film...">
    <select id="filmSort">
      <option value="">Trier</option>
      <option value="az">Aâ€“Z</option>
      <option value="za">Zâ€“A</option>
      <option value="year">AnnÃ©e</option>
      <option value="rating">Rating</option>
    </select>
  </div>

  <!-- formulaire d'ajout et de modification des films -->
  <form id="filmForm">
    <input type="hidden" id="editIndex">
    <input type="text" id="title" placeholder="Titre" required>
    <input type="number" id="year" placeholder="AnnÃ©e" required>
    <input type="text" id="genre" placeholder="Genre">
    <!-- liste des rÃ©alisateurs deja synchronisÃ©e -->
    <select id="filmDirector">
      <option value="">RÃ©alisateur</option>
    </select>
    <input type="number" step="0.1" min="0" max="10" id="rating" placeholder="Rating (0â€“10)">
    <input type="text" id="poster" placeholder="Lien de l'affiche (optionnel)">
    <button>Enregistrer</button>
  </form>

  <!-- message en cas d'aucun film trouvÃ© -->
  <div id="filmNotFound" class="not-found hidden">âŒ Aucun film trouvÃ©</div>
  <!-- la liste des films -->
  <div class="film-horizontal" id="filmList"></div>
</section>

<!-- realisateurs -->
<section id="directors" class="section">
  <h2>RÃ©alisateurs</h2>

  <input type="text" id="directorSearch" placeholder="Rechercher un rÃ©alisateur...">

  <form id="directorForm">
    <input type="hidden" id="directorEditIndex">
    <input type="text" id="directorName" placeholder="Nom du rÃ©alisateur" required>
    <button>Enregistrer</button>
  </form>

  <div id="directorNotFound" class="not-found hidden">âŒ Aucun rÃ©alisateur trouvÃ©</div>
  <ul id="directorList"></ul>
</section>

<!-- authentification(login ou inscription) -->
<section id="auth" class="section">
  <h2>Authentification</h2>

  <!-- login -->
  <form id="loginForm">
    <h3>Connexion</h3>
    <input type="text" id="loginUser" placeholder="Username" required>
    <input type="password" id="loginPass" placeholder="Password" required>
    <button>Se connecter</button>
  </form>

  <!-- inscription -->
  <form id="registerForm">
    <h3>Inscription</h3>
    <input type="text" id="registerUser" placeholder="Username" required>
    <input type="password" id="registerPass" placeholder="Password" required>
    <button>S'inscrire</button>
  </form>
</section>

</main>

<!-- footer(s'ajuste automatiquement avec la sidebar) -->
<footer class="footer-safe">
  <div class="footer-content">
    <div>
      <h4>CineTech</h4>
      <p>Plateforme acadÃ©mique de gestion de films et rÃ©alisateurs.</p>
    </div>

    <div>
      <h4>Contact</h4>
      <p>Email : ContactCinetech@gmail.com</p>
      <p>TÃ©l : +212 7 XX XX XX XX</p>
    </div>

    <div>
      <h4>Liens</h4>
      <p>Support client</p>
      <p>Mentions lÃ©gales</p>
      <p>Conditions dâ€™utilisation</p>
    </div>
  </div>

  <p class="copyright">
    Â© 2025 CineTech â€” Projet acadÃ©mique â€” Tous droits rÃ©servÃ©s
  </p>
</footer>

<!-- le lien vers le fichier javascript du projet(order important) -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="Javascript/NavigationSPA.js"></script>
<script src="Javascript/Films.js"></script>
<script src="Javascript/Realisateurs.js"></script>
<script src="Javascript/Dashboard.js"></script>
<script src="Javascript/API.js"></script>
<script src="Javascript/auth.js"></script>

</body>
</html>
